var pt=Object.defineProperty;var gt=(t,e,n)=>e in t?pt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var w=(t,e,n)=>gt(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const yt=!1,mt=(t,e)=>t===e,wt=Symbol("solid-track"),B={equals:mt};let rt=at;const A=1,U=2,it={owned:null,cleanups:null,context:null,owner:null};var p=null;let V=null,St=null,d=null,y=null,C=null,R=0;function P(t,e){const n=d,s=p,r=t.length===0,i=e===void 0?s:e,o=r?it:{owned:null,cleanups:null,context:i?i.context:null,owner:i},l=r?t:()=>t(()=>E(()=>M(o)));p=o,d=null;try{return k(l,!0)}finally{d=n,p=s}}function K(t,e){e=e?Object.assign({},B,e):B;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},s=r=>(typeof r=="function"&&(r=r(n.value)),ot(n,r));return[lt.bind(n),s]}function J(t,e,n){const s=X(t,e,!1,A);O(s)}function bt(t,e,n){rt=At;const s=X(t,e,!1,A);s.user=!0,C?C.push(s):O(s)}function q(t,e,n){n=n?Object.assign({},B,n):B;const s=X(t,e,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,O(s),lt.bind(s)}function E(t){if(d===null)return t();const e=d;d=null;try{return t()}finally{d=e}}function $t(t){bt(()=>E(t))}function Tt(t){return p===null||(p.cleanups===null?p.cleanups=[t]:p.cleanups.push(t)),t}function lt(){if(this.sources&&this.state)if(this.state===A)O(this);else{const t=y;y=null,k(()=>H(this),!1),y=t}if(d){const t=this.observers?this.observers.length:0;d.sources?(d.sources.push(this),d.sourceSlots.push(t)):(d.sources=[this],d.sourceSlots=[t]),this.observers?(this.observers.push(d),this.observerSlots.push(d.sources.length-1)):(this.observers=[d],this.observerSlots=[d.sources.length-1])}return this.value}function ot(t,e,n){let s=t.value;return(!t.comparator||!t.comparator(s,e))&&(t.value=e,t.observers&&t.observers.length&&k(()=>{for(let r=0;r<t.observers.length;r+=1){const i=t.observers[r],o=V&&V.running;o&&V.disposed.has(i),(o?!i.tState:!i.state)&&(i.pure?y.push(i):C.push(i),i.observers&&ct(i)),o||(i.state=A)}if(y.length>1e6)throw y=[],new Error},!1)),e}function O(t){if(!t.fn)return;M(t);const e=R;vt(t,t.value,e)}function vt(t,e,n){let s;const r=p,i=d;d=p=t;try{s=t.fn(e)}catch(o){return t.pure&&(t.state=A,t.owned&&t.owned.forEach(M),t.owned=null),t.updatedAt=n+1,ut(o)}finally{d=i,p=r}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?ot(t,s):t.value=s,t.updatedAt=n)}function X(t,e,n,s=A,r){const i={fn:t,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:p,context:p?p.context:null,pure:n};return p===null||p!==it&&(p.owned?p.owned.push(i):p.owned=[i]),i}function j(t){if(t.state===0)return;if(t.state===U)return H(t);if(t.suspense&&E(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<R);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===A)O(t);else if(t.state===U){const s=y;y=null,k(()=>H(t,e[0]),!1),y=s}}function k(t,e){if(y)return t();let n=!1;e||(y=[]),C?n=!0:C=[],R++;try{const s=t();return Ct(n),s}catch(s){n||(C=null),y=null,ut(s)}}function Ct(t){if(y&&(at(y),y=null),t)return;const e=C;C=null,e.length&&k(()=>rt(e),!1)}function at(t){for(let e=0;e<t.length;e++)j(t[e])}function At(t){let e,n=0;for(e=0;e<t.length;e++){const s=t[e];s.user?t[n++]=s:j(s)}for(e=0;e<n;e++)j(t[e])}function H(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const s=t.sources[n];if(s.sources){const r=s.state;r===A?s!==e&&(!s.updatedAt||s.updatedAt<R)&&j(s):r===U&&H(s,e)}}}function ct(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=U,n.pure?y.push(n):C.push(n),n.observers&&ct(n))}}function M(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),s=t.sourceSlots.pop(),r=n.observers;if(r&&r.length){const i=r.pop(),o=n.observerSlots.pop();s<r.length&&(i.sourceSlots[o]=s,r[s]=i,n.observerSlots[s]=o)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)M(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)M(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function Et(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function ut(t,e=p){throw Et(t)}const _t=Symbol("fallback");function Y(t){for(let e=0;e<t.length;e++)t[e]()}function xt(t,e,n={}){let s=[],r=[],i=[],o=0,l=e.length>1?[]:null;return Tt(()=>Y(i)),()=>{let c=t()||[],u=c.length,f,a;return c[wt],E(()=>{let g,h,S,x,D,b,$,T,I;if(u===0)o!==0&&(Y(i),i=[],s=[],r=[],o=0,l&&(l=[])),n.fallback&&(s=[_t],r[0]=P(dt=>(i[0]=dt,n.fallback())),o=1);else if(o===0){for(r=new Array(u),a=0;a<u;a++)s[a]=c[a],r[a]=P(m);o=u}else{for(S=new Array(u),x=new Array(u),l&&(D=new Array(u)),b=0,$=Math.min(o,u);b<$&&s[b]===c[b];b++);for($=o-1,T=u-1;$>=b&&T>=b&&s[$]===c[T];$--,T--)S[T]=r[$],x[T]=i[$],l&&(D[T]=l[$]);for(g=new Map,h=new Array(T+1),a=T;a>=b;a--)I=c[a],f=g.get(I),h[a]=f===void 0?-1:f,g.set(I,a);for(f=b;f<=$;f++)I=s[f],a=g.get(I),a!==void 0&&a!==-1?(S[a]=r[f],x[a]=i[f],l&&(D[a]=l[f]),a=h[a],g.set(I,a)):i[f]();for(a=b;a<u;a++)a in S?(r[a]=S[a],i[a]=x[a],l&&(l[a]=D[a],l[a](a))):r[a]=P(m);r=r.slice(0,o=u),s=c.slice(0)}return r});function m(g){if(i[a]=g,l){const[h,S]=K(a);return l[a]=S,e(c[a],h)}return e(c[a])}}}function L(t,e){return E(()=>t(e||{}))}const It=t=>`Stale read from <${t}>.`;function Nt(t){const e="fallback"in t&&{fallback:()=>t.fallback};return q(xt(()=>t.each,t.children,e||void 0))}function Z(t){const e=t.keyed,n=q(()=>t.when,void 0,void 0),s=e?n:q(n,void 0,{equals:(r,i)=>!r==!i});return q(()=>{const r=s();if(r){const i=t.children;return typeof i=="function"&&i.length>0?E(()=>i(e?r:()=>{if(!E(s))throw It("Show");return n()})):i}return t.fallback},void 0,void 0)}function Lt(t,e,n){let s=n.length,r=e.length,i=s,o=0,l=0,c=e[r-1].nextSibling,u=null;for(;o<r||l<i;){if(e[o]===n[l]){o++,l++;continue}for(;e[r-1]===n[i-1];)r--,i--;if(r===o){const f=i<s?l?n[l-1].nextSibling:n[i-l]:c;for(;l<i;)t.insertBefore(n[l++],f)}else if(i===l)for(;o<r;)(!u||!u.has(e[o]))&&e[o].remove(),o++;else if(e[o]===n[i-1]&&n[l]===e[r-1]){const f=e[--r].nextSibling;t.insertBefore(n[l++],e[o++].nextSibling),t.insertBefore(n[--i],f),e[r]=n[i]}else{if(!u){u=new Map;let a=l;for(;a<i;)u.set(n[a],a++)}const f=u.get(e[o]);if(f!=null)if(l<f&&f<i){let a=o,m=1,g;for(;++a<r&&a<i&&!((g=u.get(e[a]))==null||g!==f+m);)m++;if(m>f-l){const h=e[o];for(;l<f;)t.insertBefore(n[l++],h)}else t.replaceChild(n[l++],e[o++])}else o++;else e[o++].remove()}}}const z="_$DX_DELEGATE";function Mt(t,e,n,s={}){let r;return P(i=>{r=i,e===document?t():v(e,t(),e.firstChild?null:void 0,n)},s.owner),()=>{r(),e.textContent=""}}function _(t,e,n,s){let r;const i=()=>{const l=document.createElement("template");return l.innerHTML=t,l.content.firstChild},o=()=>(r||(r=i())).cloneNode(!0);return o.cloneNode=o,o}function Ot(t,e=window.document){const n=e[z]||(e[z]=new Set);for(let s=0,r=t.length;s<r;s++){const i=t[s];n.has(i)||(n.add(i),e.addEventListener(i,kt))}}function v(t,e,n,s){if(n!==void 0&&!s&&(s=[]),typeof e!="function")return F(t,e,s,n);J(r=>F(t,e(),r,n),s)}function kt(t){let e=t.target;const n=`$$${t.type}`,s=t.target,r=t.currentTarget,i=c=>Object.defineProperty(t,"target",{configurable:!0,value:c}),o=()=>{const c=e[n];if(c&&!e.disabled){const u=e[`${n}Data`];if(u!==void 0?c.call(e,u,t):c.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&i(e.host),!0},l=()=>{for(;o()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),t.composedPath){const c=t.composedPath();i(c[0]);for(let u=0;u<c.length-2&&(e=c[u],!!o());u++){if(e._$host){e=e._$host,l();break}if(e.parentNode===r)break}}else l();i(s)}function F(t,e,n,s,r){for(;typeof n=="function";)n=n();if(e===n)return n;const i=typeof e,o=s!==void 0;if(t=o&&n[0]&&n[0].parentNode||t,i==="string"||i==="number"){if(i==="number"&&(e=e.toString(),e===n))return n;if(o){let l=n[0];l&&l.nodeType===3?l.data!==e&&(l.data=e):l=document.createTextNode(e),n=N(t,n,s,l)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||i==="boolean")n=N(t,n,s);else{if(i==="function")return J(()=>{let l=e();for(;typeof l=="function";)l=l();n=F(t,l,n,s)}),()=>n;if(Array.isArray(e)){const l=[],c=n&&Array.isArray(n);if(Q(l,e,n,r))return J(()=>n=F(t,l,n,s,!0)),()=>n;if(l.length===0){if(n=N(t,n,s),o)return n}else c?n.length===0?tt(t,l,s):Lt(t,n,l):(n&&N(t),tt(t,l));n=l}else if(e.nodeType){if(Array.isArray(n)){if(o)return n=N(t,n,s,e);N(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function Q(t,e,n,s){let r=!1;for(let i=0,o=e.length;i<o;i++){let l=e[i],c=n&&n[t.length],u;if(!(l==null||l===!0||l===!1))if((u=typeof l)=="object"&&l.nodeType)t.push(l);else if(Array.isArray(l))r=Q(t,l,c)||r;else if(u==="function")if(s){for(;typeof l=="function";)l=l();r=Q(t,Array.isArray(l)?l:[l],Array.isArray(c)?c:[c])||r}else t.push(l),r=!0;else{const f=String(l);c&&c.nodeType===3&&c.data===f?t.push(c):t.push(document.createTextNode(f))}}return r}function tt(t,e,n=null){for(let s=0,r=e.length;s<r;s++)t.insertBefore(e[s],n)}function N(t,e,n,s){if(n===void 0)return t.textContent="";const r=s||document.createTextNode("");if(e.length){let i=!1;for(let o=e.length-1;o>=0;o--){const l=e[o];if(r!==l){const c=l.parentNode===t;!i&&!o?c?t.replaceChild(r,l):t.insertBefore(r,n):c&&l.remove()}else i=!0}}else t.insertBefore(r,n);return[r]}var Dt=_("<table class=history-table><thead><tr><th>start time</th><th>end time</th><th>duration</th><th>frequency</th></tr></thead><tbody>"),Pt=_("<tr><td></td><td></td><td></td><td>");const G="-",ft=1e3,W=ft*60,et=W*60,nt=t=>{const e=Math.floor(t/et),n=Math.floor(t%et/W),s=Math.floor(t%W/ft);return`${e}h ${n}m ${s}s`},st=t=>t.toLocaleString(navigator.language,{dateStyle:"short",timeStyle:"short",hour12:!1}),qt=({contractions:t})=>(()=>{var e=Dt(),n=e.firstChild,s=n.nextSibling;return v(s,L(Nt,{get each(){return t()},children:r=>{const i=st(r.startTime),o=r.endTime?st(r.endTime):G,l=r.duration?nt(r.duration):G,c=r.frequency?nt(r.frequency):G;return(()=>{var u=Pt(),f=u.firstChild,a=f.nextSibling,m=a.nextSibling,g=m.nextSibling;return v(f,i),v(a,o),v(m,l),v(g,c),u})()}})),e})();class ht{constructor(e){w(this,"startTime");w(this,"endTime");w(this,"duration");w(this,"frequency");this.startTime=e.startTime,this.endTime=e.endTime||null,this.duration=e.duration||null,this.frequency=e.frequency||null}endContraction({endTime:e,lastContraction:n}){this.endTime=e,this.duration=e.getTime()-this.startTime.getTime(),n!=null&&n.endTime&&(this.frequency=this.startTime.getTime()-n.startTime.getTime())}}class Bt{constructor(e,n=100){w(this,"state");w(this,"delay");w(this,"value");w(this,"interval");w(this,"display");w(this,"id");this.state="paused",this.delay=n,this.id=e,this.display=document.getElementById(e),this.value=0,this.interval=0}formatTime(e){let n=Math.floor(e/36e5),s=Math.floor((e-n*36e5)/6e4),r=Math.floor((e-n*36e5-s*6e4)/1e3),i=Math.floor((e-n*36e5-s*6e4-r*1e3)/100);return`${n.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}.${i}`}update(){this.state=="running"&&(this.value+=this.delay),this.display&&(this.display.innerHTML=this.formatTime(this.value))}start(){if(this.display||(this.display=document.getElementById(this.id)),this.state=="paused"&&(this.state="running",!this.interval)){let e=this;this.interval=setInterval(function(){e.update()},this.delay)}}stop(){this.state=="running"&&(this.state="paused",this.interval&&(clearInterval(this.interval),this.interval=null))}reset(){this.stop(),this.value=0,this.update()}}class Ut{constructor(e){w(this,"key","data");w(this,"appStorage");this.appStorage=e}async getContractions(){return this.appStorage.getData(this.key,[]).map(n=>{const s=new ht({startTime:new Date(n.startTime)});return s.endTime=new Date(n.endTime),s.duration=n.duration,s.frequency=n.frequency??null,s})}async saveContractions(e){this.appStorage.saveData(this.key,e)}async clearContractions(){this.appStorage.clearData(this.key)}}var jt=_("<h1 class=hide-print>Birth Helper 👶"),Ht=_("<button>stop"),Ft=_("<div class=hide-print><button>clear history"),Rt=_("<section class=card><h2>🤰 Labor Contractions ⏲</h2><div class=hide-print><h3 id=stopwatch>00:00:00.0"),Vt=_("<div><button>start</button><button>download");function Gt({appStorage:t}){const e=new Bt("stopwatch"),n=new Ut(t),[s,r]=K([]),[i,o]=K(null);$t(async()=>{const a=await n.getContractions();r(a)});const l=()=>{e.start(),o(new ht({startTime:new Date}))},c=()=>{e.reset();const a=new Date,m=i();if(!m)return;m.endContraction({endTime:a,lastContraction:s()[0]||null});const g=[m,...s()];r(g),o(null),n.saveContractions(g).catch(console.error)},u=()=>{window.confirm("really want to delete data?")&&(r([]),o(null),n.clearContractions().catch(console.error))},f=()=>{window.print()};return[jt(),(()=>{var a=Rt(),m=a.firstChild,g=m.nextSibling;return g.firstChild,v(g,L(Z,{get when(){return i()!==null},get fallback(){return(()=>{var h=Vt(),S=h.firstChild,x=S.nextSibling;return h.style.setProperty("display","flex"),h.style.setProperty("justify-content","center"),h.style.setProperty("gap","1rem"),S.$$click=l,x.$$click=f,h})()},get children(){var h=Ht();return h.$$click=c,h}}),null),v(a,L(qt,{contractions:s}),null),v(a,L(Z,{get when(){return i()===null},get children(){var h=Ft(),S=h.firstChild;return h.style.setProperty("margin-top","20rem"),S.$$click=u,h}}),null),a})()]}Ot(["click"]);class Kt{constructor(e){w(this,"storage");this.storage=e}getData(e,n){try{const s=this.storage.getItem(e);return s?JSON.parse(s):n}catch(s){return console.error("Error retrieving data from storage",s),n}}saveData(e,n){this.storage.setItem(e,JSON.stringify(n))}clearData(e){this.storage.removeItem(e)}}const Jt=document.getElementById("root");Mt(()=>{const t=new Kt(localStorage);return L(Gt,{appStorage:t})},Jt);
